<nav class="navbar navbar-expand-lg navbar-library">
    <a class="navbar-brand" href="#">LibGra</a>
    <button class="navbar-toggler" type="button" id="boton-style-app" data-toggle="collapse" data-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <!-- Enlaces de la izquierda -->
      <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link" href="/">Inicio</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#">Biblioteca</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#">Acerca de</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#">Contacto</a>
        </li>
        <li class="nav-item" *ngIf="(esAdmin || esSoid) && isLoggedIn">
          <a class="nav-link" href="#">Panel de Administrador</a>
          </li>
      </ul>
      <!-- Enlaces de la derecha -->
      <ul class="navbar-nav ml-auto">
        <li class="nav-item" *ngIf="!isLoggedIn">
          <a class="nav-link" routerLink="/login" routerLinkActive="active">Login</a>
        </li>
        <li class="nav-item" *ngIf="!isLoggedIn">
          <a class="nav-link" routerLink="/registro" routerLinkActive="active">Registro</a>
        </li>
        <li class="nav-item" *ngIf="isLoggedIn">
          <a class="nav-link" id="csesion" (click)="logout()">Cerrar sesión</a>
        </li>
        <li class="nav-item" *ngIf="isLoggedIn">
          <img [src]="this.fotoServ" class="rounded-circle" alt="User Image" style="width: 40px; height: 40px; margin-left: 10px;" (click)="irAAdministrarPerfil()">
        </li>
      </ul>
    </div>
  </nav>


<!--pantalla-->
<div class="container">
    <div class="admin-panel">
        <h1>Panel de Administración</h1>
        
        <!-- Menú de navegación -->
        <nav class="admin-nav">
          <button (click)="selectSection('books')">Libros</button>
          <button (click)="selectSection('users')">Usuarios</button>
          <button (click)="selectSection('categories')">Categorías</button>
          <button (click)="selectSection('genres')">Géneros</button>
          <button (click)="selectSection('authors')">Autores</button>
        </nav>
      
        <!-- Sección Libros -->
        <div *ngIf="selectedSection === 'books'">
          <h2>Administrar Libros</h2>
          <div class="container">
            <h2>Libros Activos</h2>
            <table class="table table-striped">
              <thead>
                <tr>
                    <th>Acciones</th>
                  <th>Título</th>
                  <th>Autor</th>
                  <th>Categoría</th>
                  <th>Género</th>
                  <th>ISBN</th>
                  <th>Fecha de Publicación</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let libro of librosActivos">
                  <td>
                      <!-- Botón para eliminar el libro -->
                    <button (click)="eliminarLibro(libro._id)" class="btn btn-danger">
                     Eliminar
                    </button>
                  </td>
                  <td>{{ libro.titulo }}</td>
                  <td>{{ libro.id_autor.nombre }}</td>
                  <td>{{ libro.categorias_libro[0]?.nombre }}</td>
                  <td>{{ libro.generos_libro[0]?.nombre }}</td>
                  <td>{{ libro.isbn }}</td>
                  <td>{{ libro.fecha_publicacion | date: 'dd/MM/yyyy' }}</td>
                </tr>
              </tbody>
            </table>
          
            <h2>Libros No Activos</h2>
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>Título</th>
                  <th>Autor</th>
                  <th>Categoría</th>
                  <th>Género</th>
                  <th>ISBN</th>
                  <th>Fecha de Publicación</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let libro of librosNoActivos">
                  <td>{{ libro.titulo }}</td>
                  <td>{{ libro.id_autor.nombre }}</td>
                  <td>{{ libro.categorias_libro[0]?.nombre }}</td>
                  <td>{{ libro.generos_libro[0]?.nombre }}</td>
                  <td>{{ libro.isbn }}</td>
                  <td>{{ libro.fecha_publicacion | date: 'dd/MM/yyyy' }}</td>
                </tr>
              </tbody>
            </table>
          </div>
          
        </div>
      
        <!-- Sección Usuarios -->
        <div *ngIf="selectedSection === 'users'">
          <h2>Administrar Usuarios</h2>
          <!-- Contenido de usuarios -->
        </div>
      
        <!-- Sección Categorías -->
        <div *ngIf="selectedSection === 'categories'">
          <h2>Administrar Categorías</h2>
          <!-- Contenido de categorías -->
        </div>
      
        <!-- Sección Géneros -->
        <div *ngIf="selectedSection === 'genres'">
          <h2>Administrar Géneros</h2>
          <!-- Contenido de géneros -->
        </div>
      
        <!-- Sección Autores -->
        <div *ngIf="selectedSection === 'authors'">
          <h2>Administrar Autores</h2>
          <!-- Contenido de autores -->
        </div>
      </div>
      
</div>


<footer class="footer-library mt-5">
    <p>&copy; 2024 BookApp. Todos los derechos reservados.</p>
</footer>